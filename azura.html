<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AZURA AI ðŸ¤–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<style>
/* Aapka Classic Design */
*{box-sizing:border-box}
body { margin:0; font-family:'Poppins',sans-serif; background: linear-gradient(-45deg,#0f2027,#2c5364,#000); background-size: 400% 400%; animation: bgMove 18s ease infinite; color:#fff; height: 100dvh; display:flex; flex-direction:column; overflow: hidden; }
.chat { flex:1; padding:15px; overflow-y:auto; display:flex; flex-direction:column; gap:10px; scroll-behavior: smooth; }
.msg { max-width: 85%; padding: 12px 15px; border-radius: 18px; font-size: 14px; word-wrap: break-word; }
.user { align-self: flex-end; background: linear-gradient(135deg,#00f2ff,#0077ff); color: #000; border-bottom-right-radius: 2px; }
.bot { align-self: flex-start; background: rgba(255,255,255,0.1); backdrop-filter: blur(15px); border: 1px solid rgba(0,242,255,0.2); border-bottom-left-radius: 2px; }
.input-container { padding: 15px; background: rgba(0,0,0,0.8); display: flex; gap: 8px; border-top: 1px solid rgba(0,242,255,0.2); }
.input-container input { flex: 1; padding: 12px 18px; border-radius: 30px; border: 1px solid rgba(0,242,255,0.3); background: rgba(255,255,255,0.05); color: #fff; outline: none; }
.input-container button { background: #00f2ff; border: none; border-radius: 50%; width: 45px; height: 45px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
@keyframes bgMove{ 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
</style>
</head>
<body>

<header style="padding:15px; text-align:center; background:rgba(0,0,0,0.5); border-bottom:1px solid rgba(0,242,255,0.3);">
    <h1 style="margin:0; font-size:1.2rem; color:#00f2ff;">ðŸ¤– AZURA AI</h1>
    <span style="font-size:10px; opacity:0.6;">by AzamGuruYT</span>
</header>

<div class="chat" id="chatBox"></div>

<div class="input-container">
    <input id="userInput" type="text" placeholder="Azura se puchiye..." autocomplete="off" />
    <button onclick="handleSend()">âœˆ</button>
</div>

<script>
// Nayi API Key
const API_KEY = "AIzaSyAyVguYs1DHcfWB430lCb5PEV5hg8f4yTI"; 

// HUM MODEL CHANGE KAR RAHE HAIN: gemini-1.5-pro use karenge
const URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent?key=${API_KEY}`;

const chatBox = document.getElementById("chatBox");
const inputField = document.getElementById("userInput");

inputField.addEventListener("keypress", (e) => { if (e.key === "Enter") handleSend(); });

function addMessage(text, type) {
    const div = document.createElement("div");
    div.className = "msg " + type;
    div.innerHTML = text + `<div style="font-size:9px; opacity:0.5; margin-top:5px;">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>`;
    chatBox.appendChild(div);
    chatBox.scrollTop = chatBox.scrollHeight;
}

async function fetchAIResponse(userQuery) {
    try {
        const response = await fetch(URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                contents: [{ parts: [{ text: "Your name is AZURA AI, created by Azam. " + userQuery }] }]
            })
        });

        const data = await response.json();

        if (data.error) {
            console.error("DEBUG:", data.error.message);
            return "Azura Error: " + data.error.message;
        }

        if (data.candidates && data.candidates[0].content.parts[0].text) {
            return data.candidates[0].content.parts[0].text;
        } else {
            return "Azura ko samajhne mein dikkat hui.";
        }
    } catch (error) {
        return "Network issues!";
    }
}

async function handleSend() {
    const val = inputField.value.trim();
    if (!val) return;
    addMessage(val, "user");
    inputField.value = "";
    const typing = document.createElement("div");
    typing.className = "msg bot";
    typing.id = "temp-typing";
    typing.innerText = "Thinking...";
    chatBox.appendChild(typing);
    chatBox.scrollTop = chatBox.scrollHeight;
    const aiResponse = await fetchAIResponse(val);
    if(document.getElementById("temp-typing")) document.getElementById("temp-typing").remove();
    addMessage(aiResponse, "bot");
}

addMessage("Welcome! I am <b>AZURA AI</b>, now using Pro model. Ask me anything!", "bot");
</script>
</body>
</html>
